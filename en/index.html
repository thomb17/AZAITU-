<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- SEO Primary Tags -->
    <title>Villa Azaitu | Luxury Villa Rental in Palombaggia, South Corsica</title>
    <meta name="description" content="Exceptional villa 5 minutes walk from Palombaggia beach. 4 suites, infinity pool, panoramic sea views. Prestigious rental in Porto-Vecchio, South Corsica.">
    <meta name="keywords" content="luxury villa Corsica, Palombaggia rental, Porto-Vecchio villa, South Corsica vacation rental, infinity pool villa, prestige holiday home Corsica, sea view villa Corsica">
    <meta name="author" content="Villa Azaitu">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://villa-azaitu.com/en/">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://villa-azaitu.com/en/">
    <meta property="og:title" content="Villa Azaitu | Paradise Exists in Palombaggia">
    <meta property="og:description" content="Exceptional villa 5 minutes walk from Palombaggia. Breathtaking sea views, infinity pool, 4 luxury suites. An unforgettable experience in South Corsica.">
    <meta property="og:image" content="https://villa-azaitu.com/assets/images/hero-sunset-pool.webp">
    <meta property="og:locale" content="en_GB">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Villa Azaitu | Luxury Villa Rental Palombaggia">
    <meta name="twitter:description" content="Exceptional villa 5 min from Palombaggia. Infinity pool, panoramic sea views, 4 suites. Paradise exists in Corsica.">
    <meta name="twitter:image" content="https://villa-azaitu.com/assets/images/hero-sunset-pool.webp">

    <!-- Geo Tags -->
    <meta name="geo.region" content="FR-2A">
    <meta name="geo.placename" content="Porto-Vecchio, Corse">
    <meta name="geo.position" content="41.5919;9.2795">
    <meta name="ICBM" content="41.5919, 9.2795">

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="../favicon.svg">
    <link rel="apple-touch-icon" href="../favicon.svg">
    <meta name="theme-color" content="#3a2d25">

    <!-- Preload critical assets -->
    <link rel="preload" href="../assets/images/hero-sunset-pool.webp" as="image" type="image/webp">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;1,300;1,400&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../assets/css/experience.css">

    <!-- FullCalendar -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.10/index.global.min.css">

    <!-- Schema.org Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "LodgingBusiness",
        "name": "Villa Azaitu",
        "description": "Luxury villa 5 minutes walk from Palombaggia beach. 4 sea view suites, infinity pool, spa, cinema room. Prestigious rental in South Corsica.",
        "url": "https://villa-azaitu.com/en/",
        "telephone": "+33664174747",
        "email": "scimadeleine@icloud.com",
        "address": {
            "@type": "PostalAddress",
            "addressLocality": "Porto-Vecchio",
            "addressRegion": "Corse-du-Sud",
            "addressCountry": "FR"
        },
        "geo": {
            "@type": "GeoCoordinates",
            "latitude": "41.5919",
            "longitude": "9.2795"
        },
        "amenityFeature": [
            {"@type": "LocationFeatureSpecification", "name": "Infinity pool", "value": true},
            {"@type": "LocationFeatureSpecification", "name": "Panoramic sea view", "value": true},
            {"@type": "LocationFeatureSpecification", "name": "Spa", "value": true},
            {"@type": "LocationFeatureSpecification", "name": "Cinema room", "value": true},
            {"@type": "LocationFeatureSpecification", "name": "Fitness room", "value": true},
            {"@type": "LocationFeatureSpecification", "name": "Walking beach access", "value": true}
        ],
        "numberOfRooms": "4",
        "petsAllowed": false,
        "starRating": {
            "@type": "Rating",
            "ratingValue": "5"
        }
    }
    </script>
</head>
<body>

    <!-- Custom Cursor -->
    <div class="custom-cursor" id="customCursor">
        <div class="cursor-dot"></div>
        <div class="cursor-circle"></div>
    </div>

    <!-- Page Loader -->
    <div class="page-loader" id="pageLoader">
        <div class="loader-content">
            <span class="loader-logo">Villa Azaitu</span>
            <div class="loader-bar">
                <div class="loader-progress"></div>
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="nav-floating" role="navigation" aria-label="Main navigation">
        <a href="#" class="nav-logo" aria-label="Villa Azaitu - Home">Villa Azaitu</a>
        <div class="nav-right">
            <a href="../" class="nav-lang" aria-label="Version franÃ§aise">FR</a>
            <a href="#contact" class="nav-cta">Book Now</a>
        </div>
    </nav>

    <!-- HERO: THE ARRIVAL -->
    <header class="act act-arrival" role="banner">
        <div class="act-bg">
            <!-- Video disabled - add assets/videos/arrival.mp4 to enable -->
            <img src="../assets/images/hero-sunset-pool.webp" alt="Villa Azaitu at sunset - Infinity pool with sea view in Palombaggia, South Corsica" class="act-bg-fallback" id="heroImage" width="1920" height="1280">
        </div>
        <div class="act-overlay"></div>

        <div class="act-content">
            <p class="act-whisper">Palombaggia, South Corsica</p>
            <h1 class="act-title">
                <span>Paradise</span>
                <span class="act-title-accent">exists</span>
            </h1>
            <p class="act-description">Five minutes walk from Palombaggia, an exceptional villa where time stands still and every moment becomes a memory.</p>
        </div>

        <div class="scroll-hint" aria-hidden="true">
            <span>Discover</span>
            <div class="scroll-hint-line"></div>
        </div>
    </header>

    <main>
        <!-- THE PROMISE -->
        <section class="act act-promise" aria-labelledby="promise-title">
            <div class="promise-layout">
                <span class="promise-eyebrow">The Villa Azaitu Experience</span>
                <h2 id="promise-title" class="promise-statement">Here, you don't rent a house.<br>You live an <em>unforgettable</em> experience.</h2>
                <p class="promise-text">Nestled on the heights of Palombaggia, Villa Azaitu is much more than a luxury villa in Corsica: it's a moment out of time. The maquis scents the air with immortelle and cistus. The bay of Porto-Vecchio reveals itself, ever-changing, from sunrise to sunset. Those who stay here never forget. They return.</p>
            </div>
        </section>

        <!-- THE PATH TO PALOMBAGGIA -->
        <section class="act act-path-immersive" aria-labelledby="path-title">
            <div class="path-bg">
                <img loading="lazy" src="../assets/images/baie-palombaggia.webp" alt="Palombaggia Beach - Turquoise waters and fine sand 5 minutes from Villa Azaitu" width="1600" height="1200">
                <div class="path-bg-overlay"></div>
            </div>
            <div class="path-floating-card">
                <span class="path-eyebrow">Direct beach access</span>
                <h2 id="path-title" class="path-title">
                    <span class="highlight">Five minutes</span>
                    <span>to paradise</span>
                </h2>
                <p class="path-subtitle">Palombaggia, the Mediterranean's most beautiful beach</p>
                <p class="path-description">A path winds through the maquis, between flowering cistus and century-old pine trees. With each step, the sea reveals itself more. Then suddenly, Palombaggia: a crescent of white sand edged with turquoise waters, where Corsica meets paradise.</p>
                <div class="path-details">
                    <div class="path-detail">
                        <span class="path-detail-label">Distance</span>
                        <span class="path-detail-value">400 metres</span>
                    </div>
                    <div class="path-detail">
                        <span class="path-detail-label">Duration</span>
                        <span class="path-detail-value">5 minutes</span>
                    </div>
                    <div class="path-detail">
                        <span class="path-detail-label">Access</span>
                        <span class="path-detail-value">Private path</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- THE PANORAMIC VIEW -->
        <section class="act act-view" aria-labelledby="view-title">
            <div class="view-container">
                <div class="view-header">
                    <span class="view-eyebrow">Panoramic view</span>
                    <h2 id="view-title" class="view-title">A view that exists<br>nowhere else</h2>
                    <p class="view-subtitle">From the Cerbicales Islands to the peaks of Alta Rocca, a living tableau that reinvents itself hour by hour</p>
                </div>

                <div class="view-gallery">
                    <figure class="view-image view-image--main">
                        <img loading="lazy" src="../assets/images/terrasse-lounge.webp" alt="Villa Azaitu outdoor lounge with panoramic view of the infinity pool and Mediterranean Sea" width="1920" height="1280">
                    </figure>
                    <figure class="view-image view-image--side">
                        <img loading="lazy" src="../assets/images/terrasse-sunset.webp" alt="Wooden terrace at sunset with bay view" width="1920" height="1312">
                    </figure>
                    <blockquote class="view-quote">
                        <p>"You never tire of this view. In the morning, it's gentle. In the evening, it's incandescent. It changes, and so do we."</p>
                    </blockquote>
                </div>
            </div>
        </section>

        <!-- A TYPICAL DAY -->
        <section class="act act-day" aria-labelledby="day-title">
            <div class="day-header-centered">
                <span class="day-eyebrow">The art of living</span>
                <h2 id="day-title" class="day-title">A day in paradise</h2>
            </div>

            <div class="day-story">
                <article class="story-block">
                    <div class="story-image">
                        <img loading="lazy" src="../assets/images/petit-dejeuner.webp" alt="Breakfast facing the sea on Villa Azaitu's sunny terrace" width="1920" height="1280">
                    </div>
                    <div class="story-content">
                        <span class="story-time">Morning</span>
                        <h3 class="story-title">Awakening</h3>
                        <p class="story-text">The sun brushes the bay. Breakfast on the terrace, facing the sea. The silence, the first rays, the smell of coffee. A precious ritual.</p>
                    </div>
                </article>

                <article class="story-block story-block--reverse">
                    <div class="story-image">
                        <img loading="lazy" src="../assets/images/piscine-1.webp" alt="Villa Azaitu infinity pool during the day">
                    </div>
                    <div class="story-content">
                        <span class="story-time">Afternoon</span>
                        <h3 class="story-title">Fulfilment</h3>
                        <p class="story-text">The infinity pool merges with the horizon. A dive, reading in the sun, a nap in the shade. Time stretches. Happiness, simply.</p>
                    </div>
                </article>

                <article class="story-block">
                    <div class="story-image">
                        <img loading="lazy" src="../assets/images/sport-2.webp" alt="Fully equipped fitness room at Villa Azaitu">
                    </div>
                    <div class="story-content">
                        <span class="story-time">Fitness</span>
                        <h3 class="story-title">Energy</h3>
                        <p class="story-text">A fully equipped fitness room. Cardio, weights, yoga facing the view. The body awakens, energy flows.</p>
                    </div>
                </article>

                <article class="story-block story-block--reverse">
                    <div class="story-image">
                        <img loading="lazy" src="../assets/images/produits.webp" alt="Wellness products and treatments at Villa Azaitu">
                    </div>
                    <div class="story-content">
                        <span class="story-time">Wellness</span>
                        <h3 class="story-title">Rejuvenation</h3>
                        <p class="story-text">Exceptional in-house treatments. Massage by reservation with local practitioners. Natural Corsican products. The body regenerates, the mind calms.</p>
                    </div>
                </article>

                <article class="story-block">
                    <div class="story-image">
                        <img loading="lazy" src="../assets/images/piscine-crepuscule.webp" alt="Pool with magical sunset reflections">
                    </div>
                    <div class="story-content">
                        <span class="story-time">Twilight</span>
                        <h3 class="story-title">Magic</h3>
                        <p class="story-text">The sky ignites. Pink, gold, purple. The Cerbicales Islands appear on the horizon. Glass in hand, witness the Mediterranean's most beautiful show.</p>
                    </div>
                </article>

                <article class="story-block story-block--reverse">
                    <div class="story-image">
                        <img loading="lazy" src="../assets/images/cinema.webp" alt="Private cinema room with large screen at Villa Azaitu">
                    </div>
                    <div class="story-content">
                        <span class="story-time">Night</span>
                        <h3 class="story-title">Intimacy</h3>
                        <p class="story-text">Family film in the private cinema. Dinner under the stars. The Corsican night wraps the villa in its softness. Time stands still.</p>
                    </div>
                </article>
            </div>
        </section>

        <!-- THE VILLA -->
        <section class="act act-house" aria-labelledby="house-title">
            <div class="house-container">
                <div class="house-header">
                    <div class="house-intro">
                        <span class="house-eyebrow">Architecture & Design</span>
                        <h2 id="house-title" class="house-title">Wood. Stone. Light.<br>Natural elegance.</h2>
                        <p class="house-text">Villa Azaitu blends contemporary luxury with Corsican authenticity. Solid oak, local stone, lime plaster: noble materials that dialogue with Mediterranean light. Four suites open onto the bay. Spa, hammam, fitness room, private cinema. Every detail has been designed for an exceptional experience.</p>
                    </div>
                    <div class="house-features">
                        <div class="feature">
                            <span class="feature-number">4</span>
                            <span class="feature-label">Sea view suites</span>
                        </div>
                        <div class="feature">
                            <span class="feature-number">âˆž</span>
                            <span class="feature-label">Infinity pool</span>
                        </div>
                        <div class="feature">
                            <span class="feature-number">8</span>
                            <span class="feature-label">Guests</span>
                        </div>
                    </div>
                </div>

                <div class="house-gallery">
                    <figure class="house-image house-image--large">
                        <img loading="lazy" src="../assets/images/cuisine-vue-mer.webp" alt="Kitchen and dining room opening onto terrace with sea view - Villa Azaitu">
                    </figure>
                    <figure class="house-image">
                        <img loading="lazy" src="../assets/images/salon-panorama.webp" alt="Bright living room with panoramic bay windows - Villa Azaitu">
                    </figure>
                    <figure class="house-image">
                        <img loading="lazy" src="../assets/images/cuisine.webp" alt="High-end fitted kitchen with central island - Villa Azaitu">
                    </figure>
                    <figure class="house-image">
                        <img loading="lazy" src="../assets/images/suite-1.webp" alt="Master suite with sea view and terrace access - Villa Azaitu">
                    </figure>
                    <figure class="house-image">
                        <img loading="lazy" src="../assets/images/sdb-master.webp" alt="Master bathroom with high-end finishes - Villa Azaitu">
                    </figure>
                    <figure class="house-image">
                        <img loading="lazy" src="../assets/images/hero-drone.webp" alt="Aerial view of Villa Azaitu and its infinity pool">
                    </figure>
                </div>
            </div>
        </section>

        <!-- PHOTO GALLERY -->
        <section class="act act-gallery" aria-label="Photo gallery">
            <a href="galerie.html" class="gallery-teaser">
                <div class="gallery-teaser-images">
                    <img loading="lazy" src="../assets/images/piscine-2.webp" alt="Infinity pool view from terrace">
                    <img loading="lazy" src="../assets/images/salon-1.webp" alt="Villa Azaitu design living room">
                    <img loading="lazy" src="../assets/images/master-jardin.webp" alt="Master suite with garden access">
                </div>
                <div class="gallery-teaser-content">
                    <span class="gallery-teaser-count">57</span>
                    <span class="gallery-teaser-label">photographs</span>
                    <span class="gallery-teaser-cta">Explore the full gallery</span>
                </div>
            </a>
        </section>

        <!-- AVAILABILITY CALENDAR -->
        <section class="act act-calendar" id="availability" aria-labelledby="calendar-title">
            <div class="calendar-container">
                <div class="calendar-header">
                    <span class="calendar-eyebrow">Availability</span>
                    <h2 id="calendar-title" class="calendar-title">Book your stay</h2>
                    <p class="calendar-subtitle">Check our availability in real time</p>
                </div>
                <div class="calendar-wrapper">
                    <div class="calendar-legend">
                        <div class="legend-item">
                            <span class="legend-color legend-available"></span>
                            <span class="legend-label">Available</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color legend-checkout"></span>
                            <span class="legend-label">Check-out / Check-in possible</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color legend-booked"></span>
                            <span class="legend-label">Booked</span>
                        </div>
                    </div>
                    <div id="availability-calendar"></div>
                    <p class="calendar-note">Bookings are weekly (Saturday to Saturday) during high season.</p>
                </div>
            </div>
        </section>

        <!-- TESTIMONIAL -->
        <section class="act act-return" aria-labelledby="testimonial">
            <div class="return-content">
                <blockquote>
                    <p id="testimonial" class="return-quote">"We have stayed in many villas. None compare to this one. The view, the path to the beach, the feeling of being away from the world... We never wanted to leave."</p>
                    <footer class="return-author">â€” August 2024</footer>
                </blockquote>
                <p class="return-statement">They all come back.</p>
            </div>
        </section>

        <!-- LOCATION -->
        <section class="act act-location" aria-labelledby="location-title">
            <div class="location-content">
                <span class="location-eyebrow">Location</span>
                <h2 id="location-title" class="location-title">In the heart of Palombaggia</h2>
                <p class="location-text">15 minutes from Porto-Vecchio and 5 minutes walk from the Mediterranean's most beautiful beach.</p>
            </div>
            <div class="location-map">
                <iframe
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d12345.67890!2d9.3167!3d41.5667!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x12d9a8f8f8f8f8f8%3A0x0!2sPalombaggia%2C%20Porto-Vecchio!5e0!3m2!1sen!2sfr!4v1234567890"
                    width="100%"
                    height="100%"
                    style="border:0; border-radius: 10px;"
                    allowfullscreen=""
                    loading="lazy"
                    referrerpolicy="no-referrer-when-downgrade"
                    title="Villa Azaitu Location - Palombaggia">
                </iframe>
            </div>
        </section>

        <!-- FAQ -->
        <section class="act act-faq" id="faq" aria-labelledby="faq-title">
            <div class="faq-container">
                <div class="faq-header">
                    <span class="faq-eyebrow">Frequently asked questions</span>
                    <h2 id="faq-title" class="faq-title">Everything you need<br>to know</h2>
                </div>
                <div class="faq-list">
                    <details class="faq-item">
                        <summary class="faq-question">What are the check-in and check-out times?</summary>
                        <p class="faq-answer">Check-in is from 5pm and check-out before 10am. Arrangements may be possible depending on availability, please contact us.</p>
                    </details>
                    <details class="faq-item">
                        <summary class="faq-question">Is the villa suitable for children?</summary>
                        <p class="faq-answer">Yes, Villa Azaitu welcomes families with children. The pool has a shallower section. However, children must always be supervised near the infinity pool.</p>
                    </details>
                    <details class="faq-item">
                        <summary class="faq-question">Are pets allowed?</summary>
                        <p class="faq-answer">Unfortunately, we do not accept pets in order to preserve the quality of the property for all our guests.</p>
                    </details>
                    <details class="faq-item">
                        <summary class="faq-question">How do I get to Palombaggia beach?</summary>
                        <p class="faq-answer">Palombaggia beach is accessible on foot in just 5 minutes via a private path. You can also drive there (parking available).</p>
                    </details>
                    <details class="faq-item">
                        <summary class="faq-question">What services are included?</summary>
                        <p class="faq-answer">End-of-stay cleaning, bed linen, pool towels and high-speed WiFi are included. A concierge service is available on request (private chef, massage, excursions...).</p>
                    </details>
                    <details class="faq-item">
                        <summary class="faq-question">What is the minimum rental duration?</summary>
                        <p class="faq-answer">In high season (July-August), rentals are weekly, from Saturday to Saturday. Off-season, we offer shorter stays with a minimum of 3 nights.</p>
                    </details>
                </div>
            </div>
        </section>

        <!-- CONTACT & BOOKING -->
        <section class="act act-contact-minimal" id="contact" aria-labelledby="contact-title">
            <div class="contact-container">
                <div class="contact-header">
                    <span class="contact-eyebrow">Booking</span>
                    <h2 id="contact-title" class="contact-title">Live the experience<br>for yourself</h2>
                    <p class="contact-subtitle">From May to October, Villa Azaitu opens its doors. Weekly rentals in high season, flexible stays off-season.</p>
                </div>

                <div class="contact-grid">
                    <!-- Form -->
                    <form class="contact-form" id="contact-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="form-name">Full name</label>
                                <input type="text" id="form-name" name="name" required placeholder="Your name">
                            </div>
                            <div class="form-group">
                                <label for="form-email">Email</label>
                                <input type="email" id="form-email" name="email" required placeholder="your@email.com">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="form-dates">Preferred dates</label>
                                <input type="text" id="form-dates" name="dates" placeholder="e.g. 15-22 July 2025">
                            </div>
                            <div class="form-group">
                                <label for="form-guests">Number of guests</label>
                                <select id="form-guests" name="guests">
                                    <option value="">Select</option>
                                    <option value="2">2 guests</option>
                                    <option value="3">3 guests</option>
                                    <option value="4">4 guests</option>
                                    <option value="5">5 guests</option>
                                    <option value="6">6 guests</option>
                                    <option value="7">7 guests</option>
                                    <option value="8">8 guests</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group form-group--full">
                            <label for="form-message">Message</label>
                            <textarea id="form-message" name="message" rows="4" placeholder="Your message or questions..."></textarea>
                        </div>
                        <button type="submit" class="contact-cta">Send my enquiry</button>
                    </form>

                    <!-- Contact details -->
                    <address class="contact-info">
                        <a href="tel:+33664174747" class="contact-info-item">
                            <span class="contact-info-label">Phone</span>
                            <span class="contact-info-value">+33 6 64 17 47 47</span>
                        </a>
                        <a href="https://wa.me/33618100568" target="_blank" rel="noopener" class="contact-info-item">
                            <span class="contact-info-label">WhatsApp</span>
                            <span class="contact-info-value">+33 6 18 10 05 68</span>
                        </a>
                        <a href="mailto:scimadeleine@icloud.com" class="contact-info-item">
                            <span class="contact-info-label">Email</span>
                            <span class="contact-info-value">scimadeleine@icloud.com</span>
                        </a>
                        <div class="contact-info-item">
                            <span class="contact-info-label">Location</span>
                            <span class="contact-info-value">Palombaggia, Porto-Vecchio<br>South Corsica, France</span>
                        </div>
                        <a href="https://www.instagram.com/villaazaitu/" target="_blank" rel="noopener" class="contact-info-item">
                            <span class="contact-info-label">Instagram</span>
                            <span class="contact-info-value">@villaazaitu</span>
                        </a>
                    </address>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer-minimal" role="contentinfo">
        <span class="footer-logo">Villa Azaitu</span>
        <nav class="footer-links" aria-label="Secondary navigation">
            <a href="galerie.html">Photo gallery</a>
            <a href="#contact">Booking</a>
            <a href="mentions-legales.html">Legal notices</a>
        </nav>
        <a href="https://www.instagram.com/villaazaitu/" target="_blank" rel="noopener" class="footer-instagram" aria-label="Follow us on Instagram">
            <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
            </svg>
        </a>
        <span class="footer-tagline">Luxury villa Â· Palombaggia Â· South Corsica</span>
    </footer>

    <!-- WhatsApp -->
    <a href="https://wa.me/33618100568?text=Hello, I would like information about Villa Azaitu in Palombaggia" class="whatsapp-float" target="_blank" rel="noopener" aria-label="Contact us on WhatsApp">
        <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
            <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/>
        </svg>
    </a>

    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.10/index.global.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/ical.js@1.5.0/build/ical.min.js"></script>

    <!-- GSAP & ScrollTrigger -->
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>

    <script>
        // ===== GSAP SCROLL ANIMATIONS =====
        gsap.registerPlugin(ScrollTrigger);

        // Hero parallax effect
        gsap.to('.act-bg', {
            yPercent: 30,
            ease: 'none',
            scrollTrigger: {
                trigger: '.act-arrival',
                start: 'top top',
                end: 'bottom top',
                scrub: true
            }
        });

        // Hero content fade out on scroll
        gsap.to('.act-content', {
            opacity: 0,
            y: -50,
            ease: 'none',
            scrollTrigger: {
                trigger: '.act-arrival',
                start: 'top top',
                end: '50% top',
                scrub: true
            }
        });

        // Hero title animation
        gsap.from('.act-title span', {
            y: 80,
            opacity: 0,
            duration: 1.2,
            stagger: 0.2,
            ease: 'power3.out',
            delay: 0.3
        });

        gsap.from('.act-whisper', {
            y: 30,
            opacity: 0,
            duration: 1,
            ease: 'power3.out',
            delay: 0.8
        });

        // Promise section
        gsap.from('.promise-statement', {
            scrollTrigger: {
                trigger: '.act-promise',
                start: 'top 80%',
                toggleActions: 'play none none none'
            },
            y: 60,
            opacity: 0,
            duration: 1,
            ease: 'power3.out'
        });

        gsap.from('.promise-text', {
            scrollTrigger: {
                trigger: '.act-promise',
                start: 'top 70%',
                toggleActions: 'play none none none'
            },
            y: 40,
            opacity: 0,
            duration: 1,
            delay: 0.3,
            ease: 'power3.out'
        });

        // Floating card animation (beach section)
        gsap.from('.path-floating-card', {
            scrollTrigger: {
                trigger: '.act-path-immersive',
                start: 'top 60%',
                toggleActions: 'play none none none'
            },
            x: 100,
            opacity: 0,
            duration: 1.2,
            ease: 'power3.out'
        });

        // View gallery images
        gsap.from('.view-image', {
            scrollTrigger: {
                trigger: '.view-gallery',
                start: 'top 70%',
                toggleActions: 'play none none none'
            },
            y: 80,
            opacity: 0,
            duration: 1,
            stagger: 0.2,
            ease: 'power3.out'
        });

        // Story blocks (day section)
        document.querySelectorAll('.story-block').forEach((block, index) => {
            const isReverse = block.classList.contains('story-block--reverse');
            gsap.from(block.querySelector('.story-image'), {
                scrollTrigger: {
                    trigger: block,
                    start: 'top 75%',
                    toggleActions: 'play none none none'
                },
                x: isReverse ? 80 : -80,
                opacity: 0,
                duration: 1,
                ease: 'power3.out'
            });
            gsap.from(block.querySelector('.story-content'), {
                scrollTrigger: {
                    trigger: block,
                    start: 'top 75%',
                    toggleActions: 'play none none none'
                },
                x: isReverse ? -80 : 80,
                opacity: 0,
                duration: 1,
                delay: 0.2,
                ease: 'power3.out'
            });
        });

        // House gallery images
        gsap.from('.house-image', {
            scrollTrigger: {
                trigger: '.house-gallery',
                start: 'top 70%',
                toggleActions: 'play none none none'
            },
            y: 60,
            opacity: 0,
            scale: 0.95,
            duration: 0.8,
            stagger: 0.1,
            ease: 'power3.out'
        });

        // Contact section
        gsap.from('.contact-header', {
            scrollTrigger: {
                trigger: '.act-contact-minimal',
                start: 'top 70%',
                toggleActions: 'play none none none'
            },
            y: 50,
            opacity: 0,
            duration: 1,
            ease: 'power3.out'
        });

        gsap.from('.contact-form', {
            scrollTrigger: {
                trigger: '.contact-grid',
                start: 'top 70%',
                toggleActions: 'play none none none'
            },
            x: -60,
            opacity: 0,
            duration: 1,
            ease: 'power3.out'
        });

        gsap.from('.contact-info', {
            scrollTrigger: {
                trigger: '.contact-grid',
                start: 'top 70%',
                toggleActions: 'play none none none'
            },
            x: 60,
            opacity: 0,
            duration: 1,
            delay: 0.2,
            ease: 'power3.out'
        });

        // Hide page loader
        window.addEventListener('load', () => {
            setTimeout(() => {
                document.getElementById('pageLoader').classList.add('hidden');
            }, 1600);
        });

        // ===== CUSTOM CURSOR =====
        const customCursor = document.getElementById('customCursor');
        if (customCursor && window.matchMedia('(hover: hover) and (pointer: fine)').matches) {
            const cursorDot = customCursor.querySelector('.cursor-dot');
            const cursorCircle = customCursor.querySelector('.cursor-circle');

            let mouseX = 0, mouseY = 0;
            let dotX = 0, dotY = 0;
            let circleX = 0, circleY = 0;

            document.addEventListener('mousemove', (e) => {
                mouseX = e.clientX;
                mouseY = e.clientY;
            });

            function animateCursor() {
                dotX += (mouseX - dotX) * 0.5;
                dotY += (mouseY - dotY) * 0.5;
                cursorDot.style.left = dotX + 'px';
                cursorDot.style.top = dotY + 'px';

                circleX += (mouseX - circleX) * 0.15;
                circleY += (mouseY - circleY) * 0.15;
                cursorCircle.style.left = circleX + 'px';
                cursorCircle.style.top = circleY + 'px';

                requestAnimationFrame(animateCursor);
            }
            animateCursor();

            // Hover effect on interactive elements
            const hoverElements = document.querySelectorAll('a, button, .story-block, .house-image, .gallery-teaser');
            hoverElements.forEach(el => {
                el.addEventListener('mouseenter', () => customCursor.classList.add('hover'));
                el.addEventListener('mouseleave', () => customCursor.classList.remove('hover'));
            });
        }

        // Navigation scroll effect
        const nav = document.querySelector('.nav-floating');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 100) {
                nav.classList.add('scrolled');
            } else {
                nav.classList.remove('scrolled');
            }
        });

        // ===== APPLE CALENDAR =====

        // IMPORTANT: Replace this URL with your Apple Calendar ICS link
        // To get this link:
        // 1. Open Calendar on Mac
        // 2. Right-click on your calendar > Share Calendar
        // 3. Check "Public Calendar"
        // 4. Copy the link starting with webcal://
        // 5. Replace "webcal://" with "https://"
        const APPLE_CALENDAR_ICS_URL = 'https://p63-caldav.icloud.com/published/2/Mjg3NDQ2ODAzMjg3NDQ2ONlm9LhWVoIMUycVp-j4cI1oyAzrjbV2ja-EjJwcW4Bx_ZZKLpanrZ0lFJnarBOk8S-yq-yVxsXqL-BNcSvgc8s';

        // ===== SIMPLIFIED CALENDAR =====

        // Helper to format a date as "YYYY-MM-DD" (without UTC conversion)
        function formatDateLocal(date) {
            return date.getFullYear() + '-' +
                String(date.getMonth() + 1).padStart(2, '0') + '-' +
                String(date.getDate()).padStart(2, '0');
        }

        // Sets to store dates (format: "YYYY-MM-DD")
        let reservedDates = new Set();   // Days when guest sleeps (nights)
        let checkoutDates = new Set();   // Check-out days (morning occupied, afternoon free)
        let checkinDates = new Set();    // Check-in days

        // Load reservations from Apple Calendar
        async function loadReservations() {
            const CORS_PROXIES = [
                'https://corsproxy.io/?',
                'https://api.allorigins.win/raw?url='
            ];

            for (const proxy of CORS_PROXIES) {
                try {
                    const response = await fetch(proxy + encodeURIComponent(APPLE_CALENDAR_ICS_URL));
                    if (!response.ok) continue;

                    const icsData = await response.text();
                    if (!icsData.includes('BEGIN:VCALENDAR')) continue;

                    // Parse avec ical.js
                    const jcalData = ICAL.parse(icsData);
                    const comp = new ICAL.Component(jcalData);
                    const vevents = comp.getAllSubcomponents('vevent');

                    vevents.forEach(vevent => {
                        const event = new ICAL.Event(vevent);
                        let start = event.startDate.toJSDate();
                        let end = event.endDate ? event.endDate.toJSDate() : start;

                        // For all-day events, iCal uses exclusive DTEND
                        // (e.g.: reservation "9-15 Aug" â†’ DTEND = 16 Aug at midnight)
                        // We detect this if the time is midnight
                        let checkoutDate = new Date(end);
                        if (end.getHours() === 0 && end.getMinutes() === 0) {
                            // All-day event: the real checkout is the day before
                            checkoutDate.setDate(checkoutDate.getDate() - 1);
                        }

                        // First day = check-in
                        const startStr = formatDateLocal(start);
                        checkinDates.add(startStr);

                        // Check-out day
                        const checkoutStr = formatDateLocal(checkoutDate);
                        checkoutDates.add(checkoutStr);

                        // Days when guest sleeps (from check-in to day before check-out)
                        let current = new Date(start);
                        current.setHours(12, 0, 0, 0); // Noon to avoid timezone issues
                        const lastNight = new Date(checkoutDate);
                        lastNight.setHours(0, 0, 0, 0);

                        while (current < lastNight) {
                            const dateStr = formatDateLocal(current);
                            reservedDates.add(dateStr);
                            current.setDate(current.getDate() + 1);
                        }

                        console.log(`ðŸ“… Reservation: ${startStr} â†’ checkout ${checkoutStr}`);
                    });

                    console.log('âœ… Reserved dates:', reservedDates.size, '| Checkouts:', checkoutDates.size);
                    return true;
                } catch (e) {
                    console.warn('Proxy failed:', e.message);
                }
            }
            return false;
        }

        // Initialize the calendar
        document.addEventListener('DOMContentLoaded', async function() {
            const calendarEl = document.getElementById('availability-calendar');
            if (!calendarEl) return;

            // Load reservations first
            await loadReservations();

            // Create the calendar
            const calendar = new FullCalendar.Calendar(calendarEl, {
                initialView: 'dayGridMonth',
                locale: 'en-gb',
                firstDay: 1,
                height: 'auto',
                headerToolbar: {
                    left: 'prev',
                    center: 'title',
                    right: 'next'
                },
                dayCellDidMount: function(info) {
                    const dateStr = formatDateLocal(info.date);
                    const cell = info.el;
                    const dayNumber = cell.querySelector('.fc-daygrid-day-number');

                    // Past day
                    if (info.date < new Date().setHours(0,0,0,0)) {
                        cell.style.backgroundColor = '#e8dfd2';
                        cell.style.opacity = '0.5';
                        return;
                    }

                    const isReserved = reservedDates.has(dateStr);
                    const isCheckout = checkoutDates.has(dateStr);
                    const isCheckin = checkinDates.has(dateStr);

                    // Transition day (checkout + checkin same day) = fully booked
                    if (isCheckout && isCheckin) {
                        cell.style.backgroundColor = '#8b7355';
                        if (dayNumber) dayNumber.style.color = '#ffffff';
                    }
                    // Check-out day only (morning occupied, afternoon free)
                    else if (isCheckout && !isReserved) {
                        // Diagonal: brown top-left, cream bottom-right
                        cell.style.background = 'linear-gradient(135deg, #8b7355 50%, #faf8f5 50%)';
                        cell.style.boxShadow = 'inset 0 0 0 1px #b8a068';
                        if (dayNumber) dayNumber.style.color = '#ffffff';
                    }
                    // Check-in day only (morning free, afternoon occupied)
                    else if (isCheckin && isReserved) {
                        // Reversed diagonal: cream top-left, brown bottom-right
                        cell.style.background = 'linear-gradient(135deg, #faf8f5 50%, #8b7355 50%)';
                        cell.style.boxShadow = 'inset 0 0 0 1px #b8a068';
                        if (dayNumber) dayNumber.style.color = '#3a2d25';
                    }
                    // Reserved day (full night, neither check-in nor check-out)
                    else if (isReserved) {
                        cell.style.backgroundColor = '#8b7355';
                        if (dayNumber) dayNumber.style.color = '#ffffff';
                    }
                    // Available day
                    else {
                        cell.style.backgroundColor = '#faf8f5';
                        cell.style.boxShadow = 'inset 0 0 0 2px #b8a068';
                    }
                }
            });

            calendar.render();
        });

        // Helper: get next Saturday
        function getNextSaturday(weeksFromNow) {
            const today = new Date();
            const dayOfWeek = today.getDay();
            const daysUntilSaturday = (6 - dayOfWeek + 7) % 7 || 7;
            const nextSaturday = new Date(today);
            nextSaturday.setDate(today.getDate() + daysUntilSaturday + (weeksFromNow * 7));
            return nextSaturday.toISOString().split('T')[0];
        }

        // ===== CONTACT FORM =====
        const contactForm = document.getElementById('contact-form');
        if (contactForm) {
            contactForm.addEventListener('submit', function(e) {
                e.preventDefault();

                const name = document.getElementById('form-name').value;
                const email = document.getElementById('form-email').value;
                const dates = document.getElementById('form-dates').value;
                const guests = document.getElementById('form-guests').value;
                const message = document.getElementById('form-message').value;

                const subject = encodeURIComponent('Booking enquiry Villa Azaitu - ' + name);
                const body = encodeURIComponent(
                    'New booking enquiry\n\n' +
                    'â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\n' +
                    'Name: ' + name + '\n' +
                    'Email: ' + email + '\n' +
                    'Preferred dates: ' + (dates || 'Not specified') + '\n' +
                    'Number of guests: ' + (guests || 'Not specified') + '\n\n' +
                    'Message:\n' + (message || 'No message') + '\n\n' +
                    'â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n' +
                    'Sent from Villa Azaitu website'
                );

                // Open email client
                window.location.href = 'mailto:scimadeleine@icloud.com?subject=' + subject + '&body=' + body;

                // Show confirmation message
                contactForm.innerHTML = '<div class="form-success"><p>Thank you! Your email client will open to send your enquiry.</p></div>';
            });
        }
    </script>

</body>
</html>
